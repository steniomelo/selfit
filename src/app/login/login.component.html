<div id="login" class="login-container ">
  <div class="container">
    <div class="row">
      <div class="col-12 col-sm-5 d-none d-sm-flex align-items-center mr-auto">
        <div class="cards-custom">
          <h1>Seja bem-vind@!</h1>
          <p>Área exclusiva para Alun@s Selfit aproveitar todas as vantagens.</p>

          <div class="cards">
            <div class="card flex-grow-1">
              <div class="card-body ">
                <div>
                  <i class="far fa-user card-icon"></i>
                  <div class="card-content">
                    <strong>Atualize seus dados cadastrais</strong>
                  </div>
                </div>
              </div>
            </div>
            <div class="card flex-grow-1">
              <div class="card-body ">
                <div>
                  <i class="fas fa-dumbbell card-icon"></i>
                  <div class="card-content">
                    <strong>Acesse seu treino</strong>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="cards">
            <div class="card flex-grow-1">
              <div class="card-body ">
                <div>
                  <svg-icon src="../../assets/layout/icons/trevo.svg" class="card-icon"></svg-icon>
                  <div class="card-content">
                    <strong>Veja detalhes do seu plano</strong>
                  </div>
                </div>
              </div>
            </div>
            <div class="card flex-grow-1">
              <div class="card-body ">
                <div>
                  <i class="fas fa-credit-card card-icon"></i>
                  <div class="card-content">
                    <strong>Visualize as mensalidades</strong>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-sm-5 bg-light d-flex justify-content-center align-items-center">
        <div class="col-12 col-sm-10 px-0" *ngIf="!esquecisenha">
          <h5 class="card-title text-center mb-5">
            Acesse com seus dados
          </h5>
          <form (ngSubmit)="login()" [formGroup]="loginForm" novalidate>
            <div class="alert alert-danger" [hidden]="!error || isLoading" translate>
              Nome ou senha incorretos.
            </div>
            <div class="form-group">
              <label class="d-block">
                <input
                  type="text"
                  class="form-control"
                  formControlName="email"
                  autocomplete="email"
                  [placeholder]="'CPF ou E-mail' | translate"
                />
                <span hidden translate>E-mail</span>
                <small
                  [hidden]="loginForm.controls.email.valid || loginForm.controls.email.untouched"
                  class="text-danger"
                  translate
                >
                  E-mail é obrigatório
                </small>
              </label>
              <label class="d-block">
                <input
                  type="password"
                  class="form-control"
                  formControlName="senha"
                  autocomplete="current-password"
                  [placeholder]="'Senha' | translate"
                  required
                />
                <span hidden translate>senha</span>
                <small
                  [hidden]="loginForm.controls.senha.valid || loginForm.controls.senha.untouched"
                  class="text-danger"
                  translate
                >
                  Senha é obrigatória
                </small>
              </label>
              <!--<div class="form-check">
                    <label class="form-check-label">
                      <input type="checkbox" class="form-check-input" formControlName="remember" />
                      <span translate>Remember me</span>
                    </label>
                  </div>-->
            </div>
            <button class="btn btn-danger w-100" type="submit" [disabled]="loginForm.invalid || isLoading">
              <i class="fas fa-cog fa-spin" [hidden]="!isLoading"></i>
              <span translate>Vamos lá...</span>
            </button>

            <footer class="text-center mt-5">
              <a (click)="esquecisenha = true">Esqueci minha senha</a>
            </footer>
          </form>
        </div>

        <div class="col-12 col-sm-10 px-0" *ngIf="esquecisenha">
          <h5 class="card-title text-center mb-5">
            Esqueci a senha
          </h5>
          <form (ngSubmit)="recuperarSenha()" [formGroup]="esquecisenhaForm" novalidate>
            <div class="alert alert-danger" [hidden]="!error || isLoading" translate>
              Dados incorretos.
            </div>
            <div class="form-group">
              <label class="d-block">
                <input
                  type="text"
                  class="form-control"
                  formControlName="cpf"
                  mask="000.000.000-00"
                  [placeholder]="'CPF' | translate"
                />
                <span hidden translate>CPF</span>
              </label>
              <label class="d-block">
                <input
                  type="text"
                  class="form-control"
                  formControlName="dataNasc"
                  [dropSpecialCharacters]="false"
                  mask="00/00/0000"
                  [placeholder]="'Data de nascimento' | translate"
                  required
                />
                <span hidden translate>data de nascimento</span>
              </label>

              <label class="d-block">
                <input
                  type="password"
                  class="form-control"
                  formControlName="novaSenha"
                  [placeholder]="'Nova senha' | translate"
                  required
                />
                <span hidden translate>nova senha</span>
              </label>
              <label class="d-block">
                <input
                  type="password"
                  class="form-control"
                  formControlName="confirmSenha"
                  [placeholder]="'Confirmar senha' | translate"
                  required
                />
                <span hidden translate>confirmar senha</span>
              </label>
            </div>
            <button class="btn btn-danger w-100" type="submit">
              <i class="fas fa-cog fa-spin" [hidden]="!isLoading"></i>
              <span translate>Confirmar</span>
            </button>

            <footer class="text-center mt-5">
              <a (click)="esquecisenha = false">Fazer login</a>
            </footer>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
